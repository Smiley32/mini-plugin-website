[~errors~]
  <div class="error notification is-danger">
    {~description~}
  </div>
[~~]

<aside class="menu" id="tagPanel">
  <form id="tagger" method="POST">
    {{tags/tagger}}

    <input id="toTrigger" type="submit" value="{>update<}" name="submit" class="button is-warning" />
  </form>
</aside>

<div id="floating">
  <button class="button toggleTags" onclick="toggleTags()">{>toggle_tags<}</button>
  <button class="button is-success" onclick="toTrigger.click()">{>update<}</button>
</div>

<div id="pageContent">
  {?isImage?}
    <div id="imageClick" class="center" style="position: relative;">
      <img id="imageInsideClick" src="{{path}}" />
      [~tags~]
      <span class="floating-tag" style="top:{~y~}%; left:{~x~}%;"></span>
      <div class="tags has-addons tag-label" style="top:{~y~}%; left:{~x~}%;">
        <span class="tag">{~tag~}</span>
        <a class="tag is-delete" onclick="removeTagFromPost(event, '{~tag~}')"></a>
      </div>
      [~~]
    </div>
    <div class="floating-tagger box hided">
      <a class="delete" onclick="hideFloatingTagger()"></a>
      <h2 class="subsubtitle center">New tag</h2>
      <hr>
      <div class="field has-addons">
        <div class="control">
          <input id="floating-input-tag" oninput="updateTaggerAutocomp()" onkeydown="if(event.keyCode == 13) { document.getElementById('floating-input-button').click() }" class="input" type="text" placeholder="Text input">
        </div>
        <div class="control">
          <button id="floating-input-button" class="button is-info" onclick="confirmFloatingTagger()">
            +
          </button>
        </div>
      </div>
      <div class="menu tagger-autocomp-menu hided">
        <ul class="menu-list" id="tagger-autocomp-list">
        </ul>
      </div>
    </div>
  {??}

  <div class="tabs is-centered">
    <ul>
      <li id="infos" class="is-active"><a>{>infos<}</a></li>
      <li id="comments"><a>{>comments<}</a></li>
      <li id="more"><a>{>more<}</a></li>
      {?isConnected?}
        <li id="edit"><a>{>edit<}</a></li>
      {??}
    </ul>
  </div>

  <div id="infosContent" class="tab-content">
    <p class="description">
      {{description}}
    </p>

    <hr/>

    <table>
      <tr><td class="leftColumn">{>size<}</td><td>{{size}}</td></tr>
      <tr><td class="leftColumn">{>dimensions<}</td><td>{{dimensions}}</td></tr>
      <tr><td class="leftColumn">{>size<}</td><td>{{size}}</td></tr>
      <tr><td class="leftColumn">{>uploader<}</td><td><a>{{uploader}}</a></td></tr>
      <tr><td class="leftColumn">{>date<}</td><td>{{date}}</td></tr>
      <tr><td class="leftColumn">{>hash<}</td><td>{{hash}}</td></tr>
      <tr><td class="leftColumn">{>extension<}</td><td>{{extension}}</td></tr>
      <tr><td class="leftColumn">{>rating<}</td><td>{{rating}}</td></tr>
    </table>
  </div>

  <div id="commentsContent" class="tab-content">
    {?isConnected?}
    <form method="POST">
      <article class="media">
          <div class="media-content">
            <div class="field">
              <p class="control">
                <textarea required name="comment" class="textarea" placeholder="{>comment_add<}"></textarea>
              </p>
            </div>
            <nav class="level">
              <div class="level-left">
                <!-- nothing -->
              </div>
              <div class="level-right">
                <div class="level-item">
                  <button name="submitComment" class="button is-info">{>comment_add_button<}</button>
                </div>
              </div>
            </nav>
          </div>
      </article>
    </form>
    {??}

    [~comments~]
      <article class="media">
        <div class="media-content">
          <div class="content">
            <p>
              <strong>{~user~}</strong> <small>{~date_added~}</small>
              <br>
              {~content~}
            </p>
          </div>
        </div>
      </article>
    [~~]
  </div>

  <div id="moreContent" class="tab-content">
    <h3 class="title is-5">{>similar_images_title<}</h3>
    <div class="columns is-multiline is-mobile">
      [~similars~]
        <div class="column is-6-mobile is-4-tablet is-4-desktop">
          <div class="card">
            <div class="card-image">
              <a href="[[posts/show]]?id={~id~}">
                <img class="image center" src="[[data/thumbnails]]/{~hash~}"/>
              </a>
            </div>
            <div class="card-content">
              #{~id~} - {~width~}x{~height~}<br/>
              <a href="#{~uploader_id~}">{~uploader~}</a>
            </div>
          </div>
        </div>
      [~~]
    </div>
    <hr/>
    <h3 class="title is-5">{>similar_colors_title<}</h3>
    <div class="columns is-multiline is-mobile">
      [~colors~]
        <div class="column is-6-mobile is-4-tablet is-4-desktop">
          <div class="card">
            <div class="card-image">
              <a href="[[posts/show]]?id={~id~}">
                <img class="image center" src="[[data/thumbnails]]/{~hash~}"/>
              </a>
            </div>
            <div class="card-content">
              #{~id~} - {~width~}x{~height~}<br/>
              <a href="#{~uploader_id~}">{~uploader~}</a>
            </div>
          </div>
        </div>
      [~~]
    </div>
    <hr/>
    <h3 class="title is-5">{>similar_tags_title<}</h3>
    <div class="columns is-multiline is-mobile">
      [~similarTagsPosts~]
        <div class="column is-6-mobile is-4-tablet is-4-desktop">
          <div class="card">
            <div class="card-image">
              <a href="[[posts/show]]?id={~id~}">
                <img class="image center" src="[[data/thumbnails]]/{~hash~}"/>
              </a>
            </div>
            <div class="card-content">
              #{~id~} - {~width~}x{~height~}<br/>
              <a href="#{~uploader_id~}">{~uploader~}</a>
            </div>
          </div>
        </div>
      [~~]
    </div>
  </div>

  {?isConnected?}
    <div id="editContent" class="tab-content">
      <div class="tag-add columns is-mobile">
        <input id="tag_add" type="text" placeholder="{>tag<}" class="input" />
        <button type="button" class="button is-warning" onclick="addTagPos(event);">{>add_tag<}</button>
      </div>
      {>click_picture<}
      </br>
      </br>
      </br>
    </div>
  {??}
</div>


<script>
  var postId = {{postId}};
</script>
